import{_ as t}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as o,a as r,o as n}from"./app-0qNlqF0u.js";const i={};function a(s,e){return n(),o("div",null,[...e[0]||(e[0]=[r('<h2 id="control-group" tabindex="-1"><a class="header-anchor" href="#control-group"><span>Control Group</span></a></h2><ul><li><a href="https://forum.proxmox.com/threads/solved-warn-old-systemd-v232-detected-container-wont-run-in-a-pure-cgroupv2-environment.114736/" target="_blank" rel="noopener noreferrer">old systemd (&lt; v232) detected, container won&#39;t run in a pure cgroupv2 environment - <em>Proxmox</em></a></li><li><a href="https://forum.proxmox.com/threads/unified-cgroup-v2-layout-upgrade-warning-pve-6-4-to-7-0.92459/" target="_blank" rel="noopener noreferrer">Unified cgroup v2 layout Upgrade warning PVE 6.4 to 7.0 - <em>Proxmox</em></a></li><li><a href="https://pve.proxmox.com/pve-docs/chapter-pct.html#pct_cgroup_compat" target="_blank" rel="noopener noreferrer">CGroup Version Compatibility - <em>Proxmox</em></a></li><li><a href="https://pve.proxmox.com/pve-docs/chapter-sysadmin.html#sysboot_edit_kernel_cmdline" target="_blank" rel="noopener noreferrer">Editing the Kernel Commandline - <em>Proxmox</em></a></li></ul><p>CentOS 7 和 Ubuntu 16.10 的 <code>systemd</code> 版本太旧，无法在 <code>cgroupv2</code> 环境中运行。</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>WARN: old systemd (&lt; v232) detected, container won&#39;t run in a pure cgroupv2 environment! Please see documentation -&gt; container -&gt; cgroup version.</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>解决方法</strong>：切换回 <code>legacy cgroup</code></p><blockquote><p>从 Proxmox VE 9.0 开始，将不再支持 <code>legacy controller</code>。</p></blockquote><p>编辑 <code>/etc/default/grub</code>：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>GRUB_CMDLINE_LINUX_DEFAULT=&quot;systemd.unified_cgroup_hierarchy=0 quiet&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>运行以下命令，会将其内容附加到 <code>/boot/grub/grub.cfg</code> 中的所有 Linux 条目：</p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-sh"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">update-grub</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div>',10)])])}const c=t(i,[["render",a]]),p=JSON.parse(`{"path":"/DevOps/Proxmox%20VE/Linux%20Containers.html","title":"Linux Containers","lang":"zh-CN","frontmatter":{"title":"Linux Containers","description":"Control Group old systemd (< v232) detected, container won't run in a pure cgroupv2 environment - Proxmox Unified cgroup v2 layout Upgrade warning PVE 6.4 to 7.0 - Proxmox CGrou...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Linux Containers\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2026-01-04T19:29:55.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"HUXINS\\"}]}"],["meta",{"property":"og:url","content":"https://wiki.inxiny.cn/DevOps/Proxmox%20VE/Linux%20Containers.html"}],["meta",{"property":"og:site_name","content":"偷影子的人"}],["meta",{"property":"og:title","content":"Linux Containers"}],["meta",{"property":"og:description","content":"Control Group old systemd (< v232) detected, container won't run in a pure cgroupv2 environment - Proxmox Unified cgroup v2 layout Upgrade warning PVE 6.4 to 7.0 - Proxmox CGrou..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2026-01-04T19:29:55.000Z"}],["meta",{"property":"article:modified_time","content":"2026-01-04T19:29:55.000Z"}]]},"git":{"createdTime":1767554995000,"updatedTime":1767554995000,"contributors":[{"name":"huxins","username":"huxins","email":"huxins@163.com","commits":1,"url":"https://github.com/huxins"}]},"readingTime":{"minutes":0.57,"words":171},"filePathRelative":"DevOps/Proxmox VE/Linux Containers.md","autoDesc":true}`);export{c as comp,p as data};
